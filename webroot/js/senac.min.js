$(document).ready(function(){function a(){var a=$("#campo-email").val(),o=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,e=o.test(a);e&&$("#botao-cadastro").prop("disabled",!1)}$("#tel").mask("(99) 9999-99999");var o=20;$(window).scroll(function(){if($(window).scrollTop()+$(window).height()==$(document).height()){for(var a=o+20,e=o;a>=e;e++)$(".linha-"+e).show();o=a}}),$(".imgLiquidFill").imgLiquid(),$("img.lazy").lazyload(),$(document).on("click",".img-facebook-share",function(){var a=$(this).data("url");return popup=window.open(a,"facebook_popup","width=620,height=400,status=no,scrollbars=no,resizable=no"),popup.focus(),!1}),$(document).delegate('*[data-toggle="lightbox"]',"click",function(a){a.preventDefault(),$(this).ekkoLightbox()}),$(".validate").validate();var e=$("#conteudo-regulamento-geral").clone();$("#resposta-ajax").html(e).find("#conteudo-regulamento-geral").show(),$("#select-documento").change(function(){var a=$(this).val();""!=a?$("#resposta-ajax").slideUp(500,function(){$.ajax({type:"GET",url:baseUrl+"documentos/visualizar/"+a,success:function(a){$("#resposta-ajax").html(a),$("#resposta-ajax").slideDown(500)}})}):$("#resposta-ajax").slideUp(500,function(){var a=$("#conteudo-regulamento-geral").clone();$("#resposta-ajax").html(a).find("#conteudo-regulamento-geral").show(),$("#resposta-ajax").slideDown(500)})}),$(document).on("submit",".form-informacoes",function(a){var o=$(this).serialize();return $.ajax({type:"POST",url:baseUrl+"ajax/receber_informacoes",data:o,success:function(a){a=jQuery.parseJSON(a),"success"==a.status?$(".form-informacoes").fadeOut(500,function(){$("#alertas-informacoes").html("<div class='alert alert-success'>Inscrição realizada com sucesso!</div>").fadeIn(500)}):$(".form-informacoes").fadeOut(500,function(){$("#alertas-informacoes").html("<div class='alert alert-danger'>Você já é um inscrito.</div>").fadeIn(500)})}}),!1});var t={};$(".questions a").on("click",function(){var a=$(this).data("question"),o=$(this).data("value"),e=$(this).parent().parent().clone().removeClass("step").attr("class").replace("step-","");e=parseInt(e)+1;var n=$(".step-"+e);return n.length>=1&&$(this).parent().parent().animate({marginLeft:"-500px"},500,function(){$(this).hide(),$(".step-"+e+"-"+o).show().animate({marginLeft:"0px"},1e3,function(){$("input").first().focus()})}),t[a]=o,!1}),$("#campo-email").on("keyup",function(){a()}),$("#campo-email").on("blur",function(){a()});var n={};$(".cpf").mask("000.000.000-00",{reverse:!0,onInvalid:function(a,o,e,t,n){$("#alertas-cadastro").stop().removeClass().addClass("alert alert-danger").html("CPF inválido.").fadeIn(500),$("#campo-nome").val("").prop("disabled",!0),$("#campo-email").val("").prop("disabled",!0),$("#botao-cadastro").prop("disabled",!0)},onComplete:function(a){$.ajax({type:"POST",data:{cpf:a},url:baseUrl+"ajax/validate_cpf",success:function(a){a=jQuery.parseJSON(a),console.log(a),"success"==a.status?($("#campo-nome").val(a.nome),$("#campo-email").prop("disabled",!1).focus(),$("#campo-ocupacao").prop("disabled",!1),$("#campo-ocupacao option").remove(),$("#campo-unidade option").remove(),$("#campo-unidade").append('<option value="">Unidade</option>'),$("#campo-ocupacao").append('<option value="">Ocupação</option>'),n=a.ocupacoes_por_unidade,$.each(a.ocupacoes,function(a,o){$("#campo-ocupacao").append('<option value="'+o+'">'+o+"</option>")})):($("#campo-email").val("").prop("disabled",!0),$("#botao-cadastro").prop("disabled",!0)),$("#alertas-cadastro").stop().fadeOut(500,function(){$(this).removeClass().addClass("alert alert-"+a.status).html(a.message).fadeIn(500)})}})}}),$(document).on("change","#campo-ocupacao",function(){var a=$(this).val();$("#campo-unidade option").remove(),$("#campo-unidade").append('<option value="">Unidade</option>'),$.each(n[a],function(a,o){$("#campo-unidade").append('<option value="'+o+'">'+o+"</option>")}),$("#campo-unidade").prop("disabled",!1).focus()}),$(".article a").on("click",function(){var a=$(this).data("json");$("#titulo-noticia").html(a.name),$("#corpo-noticia").html(a.content),""!=a.attachment?$("#imagem-noticia").show().prop("src",baseUrl+"uploads/"+a.attachment):$("#imagem-noticia").hide(),$("#modal-noticias").modal("show")}),$("select.form-control").each(function(a,o){var e=$(this).parent();$(e).append("<span class='arrow-orange'></span>");$(e).css("position","relative")}),$(".grid").masonry({itemSelector:".grid-item",percentPosition:!0}),$("#mobile-menu").click(function(){return $("#articles-list").toggleClass("onblur"),$(".container-menu").stop().toggle(0),!1}),$(".container-geral").click(function(){($("body").hasClass("is-mobile")||$("body").hasClass("is-tablet"))&&($(".container-menu").stop().hide(),$("#articles-list").removeClass("onblur"))}),$(".tp-banner").revolution({startwidth:1170,startheight:600,fullWidth:"off",fullScreen:"off"})});